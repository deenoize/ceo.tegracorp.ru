"use strict";function show_selected_items(e){e.addClass("is-selected")}function hide_not_selected_items(e,t){$.each(e,function(e,i){e!=t?$(this).removeClass("is-visible is-selected").addClass("is-hidden"):$(this).addClass("is-visible").removeClass("is-hidden is-selected")})}jQuery(document).ready(function(e){function t(t){t.each(function(){var t=e(this),i=t.children(".cd-pricing-switcher"),n=i.find("li:not(.placeholder) a"),s=i.find(".placeholder a"),a=s.text(),o="",l=t.children(".cd-pricing-list").find(".cd-pricing-wrapper"),d={};n.each(function(){var t=e(this).data("type");d[t]=l.find('li[data-type="'+t+'"]')}),i.on("click",function(t){t.preventDefault();var r=e(t.target).data("type");if(e(t.target).is(s)||e(t.target).is(i))o==s.text()?s.text(a):s.text(o),i.toggleClass("is-open");else if(s.data("type")==r)s.text(e(t.target).text()),i.removeClass("is-open");else{i.removeClass("is-open"),s.text(e(t.target).text()).data("type",r),a=e(t.target).text(),n.removeClass("selected"),e(t.target).addClass("selected"),show_selected_items(d[r]);var c=navigator.userAgent.indexOf("MSIE 9")>-1;c?(hide_not_selected_items(d,r),l.removeClass("is-switched")):l.addClass("is-switched").eq(0).one("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(){hide_not_selected_items(d,r),l.removeClass("is-switched")})}})})}t(e(".cd-pricing-container"))}),function(e){function t(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}function i(e,t){var i=n(e,t)?a:s;i(e,t)}var n,s,a;"classList"in document.documentElement?(n=function(e,t){return e.classList.contains(t)},s=function(e,t){e.classList.add(t)},a=function(e,t){e.classList.remove(t)}):(n=function(e,i){return t(i).test(e.className)},s=function(e,t){n(e,t)||(e.className=e.className+" "+t)},a=function(e,i){e.className=e.className.replace(t(i)," ")});var o={hasClass:n,addClass:s,removeClass:a,toggleClass:i,has:n,add:s,remove:a,toggle:i};"function"==typeof define&&define.amd?define(o):e.classie=o}(window),function(e){function t(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function i(e,i){this.el=e,this.options=t({},this.options),t(this.options,i),this.ctrlClose=this.el.querySelector("[data-dialog-close]"),this.isOpen=!1,this._initEvents()}var n={animations:Modernizr.cssanimations},s={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},a=s[Modernizr.prefixed("animation")],o=function(e,t){var i=function s(e){if(n.animations){if(e.target!=this)return;this.removeEventListener(a,s)}t&&"function"==typeof t&&t.call()};n.animations?e.addEventListener(a,i):i()};i.prototype.options={onOpenDialog:function(){return!1},onCloseDialog:function(){return!1}},i.prototype._initEvents=function(){var e=this;this.ctrlClose.addEventListener("click",this.toggle.bind(this)),document.addEventListener("keydown",function(t){var i=t.keyCode||t.which;27===i&&e.isOpen&&e.toggle()}),this.el.querySelector(".dialog__overlay").addEventListener("click",this.toggle.bind(this))},i.prototype.toggle=function(){var e=this;this.isOpen?(classie.remove(this.el,"dialog--open"),classie.add(e.el,"dialog--close"),o(this.el.querySelector(".dialog__content"),function(){classie.remove(e.el,"dialog--close")}),this.options.onCloseDialog(this)):(classie.add(this.el,"dialog--open"),this.options.onOpenDialog(this)),this.isOpen=!this.isOpen},e.DialogFx=i}(window),function(){var e=document.querySelector("[data-dialog]"),t=document.getElementById(e.getAttribute("data-dialog"));new DialogFx(t);[].slice.call(document.querySelectorAll("[data-dialog]")).forEach(function(e){var t=new DialogFx(document.getElementById(e.getAttribute("data-dialog")));e.addEventListener("click",t.toggle.bind(t))})}(),$(document).ready(function(){$("input[type='tel']").inputmask("+9[9](999)999-99-99"),$.validator.addMethod("minlenghtphone",function(e,t){return e.length>5},"Неверный номер"),$.validator.addMethod("requiredphone",function(e,t){return e.length>1},"Это поле необходимо заполнить."),$("#validate-form").validate({rules:{name:{required:!0,minlength:2},email:{required:!0,email:!0,remote:{url:"user/ajax/unique_email/",type:"post"}},tel:{requiredphone:!0,minlength:10},password:{required:!0,minlength:6},read_contract:{required:!0}},messages:{read_contract:"Пожалуйста, примите пользователськое соглашение",email:{remote:"Этот email уже зарегистрирован. Попробуйте войти"}},errorPlacement:function(e,t){"checkbox"==t.attr("type")?(e.insertAfter(t.parent("div")),e.css("marginTop","10px")):e.insertAfter(t.next())},submitHandler:function(e){$.ajax({url:e.action,type:e.method,data:$(e).serialize(),success:function(e){$("#answers").html(e)}}),alert("Отправлено")}}),$(".reg-input").each(function(){""!==$(this).val()&&($(this).next("label.label-animated").addClass("reg-input-filled"),$(this).addClass("reg-input-filled"))}),$(".reg-input").on("focus",function(){$(this).next(".label-animated").addClass("reg-input-filled"),$(this).addClass("reg-input-filled")}),$(".reg-input").on("blur",function(){""==$(this).val()&&($(this).next(".label-animated").removeClass("reg-input-filled"),$(this).removeClass("reg-input-filled"))})});